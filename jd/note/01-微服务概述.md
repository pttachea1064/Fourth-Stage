git地址: https://gitee.com/ds-timer/jsdvn2303-csmall-teacher.git

前3阶段：Java基础 + API + MySQL + Spring + 前端 + 单体项目

4阶段 + 5阶段：微服务知识点 + 微服务项目

6阶段：加强业务逻辑

框架 - 解决某一类的问题
    Spring: 创建对象、管理对象
    SpringMVC: 接受请求，发送响应
    MyBatis: 数据库编程
    SpringBoot: 简化配置，快速开发。(约定大于配置)

# 构建认知坐标能力
过去 - 现在 - 未来

# 系统架构演变
大致经历下面几个过程：

**单体应用架构--->垂直应用架构--->前后端分离-->分布式架构--->SOA架构--->微服务架构**


## 单体应用架构：

优点：
    部署简单，维护方便

缺点：
    耦合性高，所有模块放在通一个项目中，使得各个模块的耦合性很高
    灵活性差，在某个模块需要横向拓展的时候，需要整个项目一起部署
    不易维护，部分模块代码发生修改，需要所有模块一起重新上线，另外整个项目的代码量较大

## 垂直应用架构

优点：
    一个系统的问题不会影响到其他系统，提高容错性

缺点：
    系统之间相互独立，无法进行相互调用；会有重复的开发任务
    全部功能集成在一个工程中，对于大型项目不易开发、扩展及维护

## 前后端分离结构
    
在前后端分离的架构中，前端关注页面的样式与动态数据的解析及渲染，而后端专注于具体业务逻辑，
后端仅返回前端所需的数据，不再渲染HTML页面，不再控制前端的效果。


对于单体架构、垂直架构、前后端分离架构，我们都可以统一归类为**单体架构**的范畴，在这几种架构下，随着项目的不断发展，
都会使得整个系统不断变得更加庞大，最后形成一个大单体。

单体架构项目的好处在于：
    项目架构简单，前期开发成本低，周期短，能够快速实现系统的从0到1，是小型项目的首选。



## 分布式架构

优点：
    抽取公共的功能为服务层，提高代码复用性

缺点：
    系统间耦合度变高，调用关系错综复杂，难以维护
    当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现

## SOA架构(面向服务的架构)

优点：
    解决了服务间调用关系

缺点：
    服务的接口协议不固定，种类繁多，不利于系统维护
    

## 微服务架构

优点：
    服务原子化拆分，独立打包、部署和升级，有利于扩展
    微服务遵循单一原则

缺点：
    微服务过多，服务治理成本高，不利于系统维护

**微服务架构 = 80%的SOA服务架构思想 + 100%的组件化架构思想 + 80%的领域建模思想**


## Java服务器项目分类

### 企业级应用

一般指一个企业或机构内部使用的网站或服务器应用程序
对"三高"没有强烈要求，一般会在权限和业务流程方面设计的比较复杂


### 互联网应用

能够向全国乃至全世界开放的网站或服务器应用程序
三高：高并发、高可用、高性能
    高并发：同时处理大量的请求和并发操作
    高可用：系统能够提供持续稳定不间断的服务
    高性能：系统在给定的资源限制下， 执行任务的速度快，响应时间低

企业级应用使用单体架构居多
互联网应用使用微服务架构居多


## 微服务概述

### 什么是微服务

微服务的概念是由Martin Fowler（**马丁·福勒**）在2014年提出的

微服务是由以单一应用程序构成的小服务，自己拥有自己的行程与轻量化处理，服务依业务功能设计，以全自动的方式部署，
与其他服务使用 HTTP API 通信。同时服务会使用最小的规模的集中管理能力，服务可以用不同的编程语言与数据库等组件实现。

简单来说,微服务就是将一个大型项目的各个业务代码,拆分成多个互不相干的小项目，每个服务都是一个可以独立运行的项目,
而这些小项目专心的完成自己的功能,而且可以调用别的小项目的方法,从而完成整体功能


京东/淘宝 大型互联网应用程序，基本每个操作都是一个单独的微服务在支持：
- 登录服务器
- 搜索服务器
- 商品信息服务器
- 订单服务器
- 物流服务器
...


### 为什么需要微服务
单体应⽤⽐较适合于⼩项⽬，优点是：
- 开发简单直接，集中式管理
- 基本不会重复开发
- 功能都在本地，没有分布式的管理开销和调⽤开销

微服务架构的优点，更适合⼤型系统的开发：
- 它解决了复杂性问题。它将单体应⽤分解为⼀组服务。每个服务功能单⼀业务⽬的明确，开发的速度要快很多，更容易理解和维护。
- 这种体系结构使得每个服务都可以由专注于此服务的团队独⽴开发。服务模块之间影响很⼩。
- 微服务架构可以使每个微服务独⽴部署。减少了整体服务部署的协调问题。
- 微服务架构使得每个服务都可独⽴扩展。可以实现对每个服务分别调整优化

### 怎么搭建微服务项目

在微服务概念提出之前(2014年),每个厂商都有自己的解决方案

但是Martin Fowler（**马丁·福勒**）提出了微服务的标准之后,为了技术统一和兼容性,很多企业开始支持这个标准

现在我们开发的微服务项目,大多数都是在马丁·福勒标准下的

如果我们自己编写支持这个标准的代码是不现实的,必须通过现成的框架或组件完成满足这个微服务标准的项目结构和格式

当今程序员要想快速开发满足上面微服务标准的项目结构,首选SpringCloud

### 微服务架构的常见解决方案 Spring Cloud


#### 什么是SpringCloud

SpringCloud是由Spring提供的一套能够快速搭建微服务架构程序的**框架集**

框架集表示SpringCloud不是一个框架,而是很多框架的统称

SpringCloud就是为了搭建微服务架构项目出现的

有人将SpringCloud称之为"Spring全家桶",广义上指代Spring的所有产品

```
    Spring Cloud并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过 Spring Boot 风格进行再封装
    屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包
```

#### SpringCloud的内容

**内容的提供者角度:**

* Spring自己编写的框架或软件
* Netflix(奈非):早期提供了全套的微服务架构解决方案
* alibaba(阿里巴巴):新版本的SpringCloudAlibaba正在迅速占领市场(推荐使用)

课程中使用全套的阿里巴巴组件

Spring Cloud Alibaba 致力于提供微服务开发的一站式解决方案。此项目包含开发分布式应用微服务的必需组件，
方便开发者通过 Spring Cloud 编程模型轻松使用这些组件来开发分布式应用服务。

依托 Spring Cloud Alibaba ，您只需要添加一些注解和少量配置，就可以将Spring Cloud 应用接入阿里微服务解决方案，
通过阿里中间件来迅速搭建分布式应用系统。


**功能上分类:**

* 微服务的注册中心 - 类似公司“人力资源”
* 微服务间的调用 - RPC
* 微服务的分布式事务 - 容错
* 微服务的限流 - 容错
* 微服务的网关 - 访问
* ......

















